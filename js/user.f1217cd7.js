(window.webpackJsonp=window.webpackJsonp||[]).push([["user"],{"05eb":function(t,e,s){"use strict";s.r(e),s("b0c0");var a=s("5530"),r={name:"AvatarCropper",components:{VueCropper:(s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("9861"),s("7e79")).VueCropper},props:{avatarPath:{type:String,default:"",required:!0}},data:function(){return{visible:!1,uploading:!1,options:{img:"",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixed:!0,fixedBox:!0,centerBox:!1,original:!1},previews:{}}},methods:{edit:function(){this.options.img=this.avatarPath,this.visible=!0},onCancel:function(){this.options.img="",this.visible=!1},changeScale:function(t){t=t||1,this.$refs.cropper.changeScale(t)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},beforeUpload:function(t){var e=this,s=new FileReader;return s.readAsDataURL(t),s.onload=function(){e.options.img=s.result},!1},finish:function(t){var e=this,s=new FormData;"blob"===t?this.$refs.cropper.getCropBlob((function(t){var a=window.URL.createObjectURL(t);e.model=!0,e.modelSrc=a,s.append("file",t,e.fileName),e.$axios.post("https://www.mocky.io/v2/5cc8019d300000980a055e76",s,{contentType:!1,processData:!1,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log("upload response:",t),e.$Message.success("上传成功"),e.$emit("ok",t.url),e.visible=!1}))})):this.$refs.cropper.getCropData((function(t){e.model=!0,e.modelSrc=t}))},realTime:function(t){this.previews=t}}},o=(s("2936"),s("2877")),n={name:"UserProfile",components:{AvatarCropper:Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("Modal",{attrs:{title:"修改头像",value:t.visible,"mask-closable":!1,width:700,"ok-text":"提交"},on:{"on-cancel":t.onCancel,"on-ok":function(e){return t.finish("blob")}}},[e("Row",[e("Col",{staticStyle:{height:"350px"},attrs:{xs:24,md:12}},[e("VueCropper",{ref:"cropper",attrs:{img:t.options.img,autoCrop:t.options.autoCrop,autoCropWidth:t.options.autoCropWidth,autoCropHeight:t.options.autoCropHeight,fixedBox:t.options.fixedBox,original:t.options.original,centerBox:t.options.centerBox},on:{realTime:t.realTime}})],1),e("Col",{staticStyle:{height:"350px"},attrs:{xs:24,md:12}},[e("div",{staticClass:"avatar-cropper-preview"},[e("img",{style:t.previews.img,attrs:{src:t.previews.url}})])])],1),e("br"),e("Row",[e("Col",{attrs:{xs:24,md:12}},[e("Row",[e("Col",{attrs:{span:"12"}},[e("Upload",{attrs:{name:"file",action:"action",accept:".jpeg,.jpg,.png","before-upload":t.beforeUpload,"show-upload-list":!1}},[e("Button",{attrs:{icon:"ios-camera"}},[t._v("选择图片")])],1)],1),e("Col",{staticClass:"avatar-action",attrs:{span:"12"}},[e("Tooltip",{attrs:{content:"放大",theme:"light",placement:"top",transfer:""}},[e("Button",{attrs:{icon:"md-add"},on:{click:function(e){return t.changeScale(1)}}})],1),e("Tooltip",{attrs:{content:"缩小",theme:"light",placement:"top",transfer:""}},[e("Button",{attrs:{icon:"md-remove"},on:{click:function(e){return t.changeScale(-1)}}})],1),e("Tooltip",{attrs:{content:"旋转",theme:"light",placement:"top",transfer:""}},[e("Button",{attrs:{icon:"md-refresh"},on:{click:t.rotateRight}})],1)],1)],1)],1)],1)],1)}),[],!1,null,"50d792eb",null).exports},data:function(){return{form1:{userName:"管理员",telephone:"18888888887",email:"admin@istudy.run",gender:"1",intro:""},rule1:{userName:[{required:!0,message:"用户昵称不能为空",trigger:"change"}],telephone:[{required:!0,message:"手机号码不能为空",trigger:"change"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"change"}]},form2:{oldPassword:"",newPassword:"",confirmPassword:""},rule2:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"change"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"change"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"change"}]}}},computed:{userInfo:function(){return this.$store.state.user.userInfo}},created:function(){var t=this.userInfo.name;this.form1=Object(a.a)(Object(a.a)({},this.userInfo),{},{userName:t})},methods:{tabPaneLabel:function(t,e,s){var a=t("Avatar",{class:"ivu-mr-8",props:{size:"small",icon:s},attrs:{style:"color: #722ed1; background: #f9f0ff;"}});return t("span",{},[a,e])},handleReset:function(t){this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){t?e.$Message.success("Success!"):e.$Message.error("Fail!")}))}}},i=(s("4363"),Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("Row",{attrs:{gutter:16}},[e("Col",{staticClass:"ivu-mb",attrs:{xs:24,sm:12,md:12,lg:12,xl:8}},[e("Card",{directives:[{name:"height",rawName:"v-height",value:"100%",expression:"'100%'"}],attrs:{shadow:""},scopedSlots:t._u([{key:"title",fn:function(){return[e("Avatar",{staticStyle:{color:"#1890ff",background:"#e6f7ff"},attrs:{size:"small",icon:"md-person"}}),e("span",{staticClass:"ivu-pl-8"},[t._v("个人信息")])]},proxy:!0}])},[e("div",{staticClass:"component-user-avatar"},[e("Avatar",{attrs:{src:t.userInfo.avatar}}),e("div",{staticClass:"component-user-avatar-cover",on:{click:function(e){return t.$refs.avatarModal.edit()}}},[e("Icon",{attrs:{type:"ios-camera",size:42}})],1)],1),e("List",{staticClass:"ivu-mt",attrs:{size:"small"}},[e("ListItem",{scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"ivu-typography"},[t._v(t._s(t.userInfo.username)+" / "+t._s(t.userInfo.name))])]},proxy:!0}])},[e("ListItemMeta",{scopedSlots:t._u([{key:"title",fn:function(){return[e("Icon",{attrs:{type:"md-person"}}),e("span",{staticClass:"ivu-typography ivu-pl-8"},[t._v("用户名称")])]},proxy:!0}])})],1),e("ListItem",{scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"ivu-typography"},[t._v(t._s(t.userInfo.telephone))])]},proxy:!0}])},[e("ListItemMeta",{scopedSlots:t._u([{key:"title",fn:function(){return[e("Icon",{attrs:{type:"md-phone-portrait"}}),e("span",{staticClass:"ivu-typography ivu-pl-8"},[t._v("手机号码")])]},proxy:!0}])})],1),e("ListItem",{scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"ivu-typography"},[t._v(t._s(t.userInfo.email))])]},proxy:!0}])},[e("ListItemMeta",{scopedSlots:t._u([{key:"title",fn:function(){return[e("Icon",{attrs:{type:"md-mail"}}),e("span",{staticClass:"ivu-typography ivu-pl-8"},[t._v("用户邮箱")])]},proxy:!0}])})],1),e("ListItem",{scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"ivu-typography"},[t._v(t._s(t.userInfo.deptName))])]},proxy:!0}])},[e("ListItemMeta",{scopedSlots:t._u([{key:"title",fn:function(){return[e("Icon",{attrs:{type:"md-people"}}),e("span",{staticClass:"ivu-typography ivu-pl-8"},[t._v("所属部门")])]},proxy:!0}])})],1),e("ListItem",{scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"ivu-typography"},[t._v(t._s(t.userInfo.roles))])]},proxy:!0}])},[e("ListItemMeta",{scopedSlots:t._u([{key:"title",fn:function(){return[e("Icon",{attrs:{type:"md-body"}}),e("span",{staticClass:"ivu-typography ivu-pl-8"},[t._v("所属角色")])]},proxy:!0}])})],1),e("ListItem",{scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"ivu-typography"},[t._v(t._s(t.userInfo.createTime))])]},proxy:!0}])},[e("ListItemMeta",{scopedSlots:t._u([{key:"title",fn:function(){return[e("Icon",{attrs:{type:"md-calendar"}}),e("span",{staticClass:"ivu-typography ivu-pl-8"},[t._v("创建日期")])]},proxy:!0}])})],1)],1)],1)],1),e("Col",{staticClass:"ivu-mb",attrs:{xs:24,sm:12,md:12,lg:12,xl:16}},[e("Card",{directives:[{name:"height",rawName:"v-height",value:"100%",expression:"'100%'"}],attrs:{shadow:"",padding:0}},[e("Tabs",{staticClass:"ivu-mb",attrs:{name:"name1"}},[e("TabPane",{attrs:{label:function(e){return t.tabPaneLabel(e,"基本信息","ios-create")},name:"name1"}},[e("div",{staticClass:"ivu-p"},[e("Form",{ref:"form1",attrs:{model:t.form1,rules:t.rule1,"label-width":80}},[e("FormItem",{attrs:{prop:"userName",label:"昵称"}},[e("Input",{attrs:{placeholder:"请输入昵称"},model:{value:t.form1.userName,callback:function(e){t.$set(t.form1,"userName",e)},expression:"form1.userName"}})],1),e("FormItem",{attrs:{prop:"telephone",label:"电话"}},[e("Input",{attrs:{maxlength:11,"show-word-limit":"",placeholder:"请输入电话"},model:{value:t.form1.telephone,callback:function(e){t.$set(t.form1,"telephone",e)},expression:"form1.telephone"}})],1),e("FormItem",{attrs:{prop:"email",label:"邮箱"}},[e("Input",{attrs:{placeholder:"请输入邮箱"},model:{value:t.form1.email,callback:function(e){t.$set(t.form1,"email",e)},expression:"form1.email"}})],1),e("FormItem",{attrs:{label:"性别"}},[e("Select",{attrs:{placeholder:"请选择性别"},model:{value:t.form1.gender,callback:function(e){t.$set(t.form1,"gender",e)},expression:"form1.gender"}},[e("Option",{attrs:{value:1}},[t._v("男")]),e("Option",{attrs:{value:2}},[t._v("女")]),e("Option",{attrs:{value:3}},[t._v("保密")])],1)],1),e("FormItem",{attrs:{label:"简介"}},[e("Input",{attrs:{type:"textarea",rows:4,maxlength:"200","show-word-limit":"",placeholder:"请输入个人简介"},model:{value:t.form1.intro,callback:function(e){t.$set(t.form1,"intro",e)},expression:"form1.intro"}})],1),e("FormItem",[e("Space",[e("Button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.handleSubmit("form1")}}},[t._v("提交")]),e("Button",{nativeOn:{click:function(e){return t.handleReset("form1")}}},[t._v("重置")])],1)],1)],1)],1)]),e("TabPane",{attrs:{label:function(e){return t.tabPaneLabel(e,"修改密码","ios-lock")},name:"name2"}},[e("div",{staticClass:"ivu-p"},[e("Form",{ref:"form2",attrs:{model:t.form2,rules:t.rule2,"label-width":80}},[e("FormItem",{attrs:{prop:"oldPassword",label:"旧密码"}},[e("Input",{attrs:{type:"password",password:"",placeholder:"请输入旧密码"},model:{value:t.form2.oldPassword,callback:function(e){t.$set(t.form2,"oldPassword",e)},expression:"form2.oldPassword"}})],1),e("FormItem",{attrs:{prop:"newPassword",label:"新密码"}},[e("Input",{attrs:{type:"password",password:"",placeholder:"请输入新密码"},model:{value:t.form2.newPassword,callback:function(e){t.$set(t.form2,"newPassword",e)},expression:"form2.newPassword"}})],1),e("FormItem",{attrs:{prop:"confirmPassword",label:"确认密码"}},[e("Input",{attrs:{type:"password",password:"",placeholder:"请确认新密码"},model:{value:t.form2.confirmPassword,callback:function(e){t.$set(t.form2,"confirmPassword",e)},expression:"form2.confirmPassword"}})],1),e("FormItem",[e("Space",[e("Button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.handleSubmit("form2")}}},[t._v("提交")]),e("Button",{nativeOn:{click:function(e){return t.handleReset("form2")}}},[t._v("重置")])],1)],1)],1)],1)])],1)],1)],1),e("AvatarCropper",{ref:"avatarModal",attrs:{avatarPath:t.userInfo.avatar}})],1)}),[],!1,null,"2f68be1b",null));e.default=i.exports},1510:function(t,e,s){},2936:function(t,e,s){"use strict";s("5116")},"40bd":function(t,e,s){"use strict";s.r(e);var a={name:"Safety"},r=s("2877"),o={name:"Notice"},n={name:"Account"},i={name:"UserSetting",components:{Safety:Object(r.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"setting-account-safety"},[e("h2",[t._v("安全设置")]),e("div",{staticClass:"ivu-mt ivu-pl ivu-pr"},[e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[t._v("账户密码")]),e("p",[t._v("绑定手机和邮箱，并设置密码，帐号更安全")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[t._v("修改")])])],1),e("Divider"),e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[t._v("绑定手机")]),e("p",[t._v("已绑定手机号：+86185****0000")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[t._v("修改")])])],1),e("Divider"),e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[t._v("密保问题")]),e("p",[t._v("未设置密保问题，密保问题可有效保护账户安全")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[t._v("设置")])])],1),e("Divider"),e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[t._v("个性域名")]),e("p",[t._v("已绑定域名：istudy.run")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[t._v("修改")])])],1)],1)])}),[],!1,null,null,null).exports,Notice:Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"setting-account-notice"},[e("h2",[t._v("新消息通知")]),e("div",{staticClass:"ivu-mt ivu-pl ivu-pr"},[e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[t._v("陌生人私信")]),e("p",[t._v("未关注的人向您发私信时的通知")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[e("i-switch",{scopedSlots:t._u([{key:"open",fn:function(){return[e("span",[t._v("开")])]},proxy:!0},{key:"close",fn:function(){return[e("span",[t._v("关")])]},proxy:!0}])})],1)])],1),e("Divider"),e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[t._v("邀请/评论消息")]),e("p",[t._v("有人对我发出邀请时，我会收到消息通知")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[e("i-switch",{scopedSlots:t._u([{key:"open",fn:function(){return[e("span",[t._v("开")])]},proxy:!0},{key:"close",fn:function(){return[e("span",[t._v("关")])]},proxy:!0}])})],1)])],1),e("Divider"),e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[t._v("赞同/赞赏消息设置")]),e("p",[t._v("有人对我赞同或赞赏时，我会收到消息通知")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[e("i-switch",{scopedSlots:t._u([{key:"open",fn:function(){return[e("span",[t._v("开")])]},proxy:!0},{key:"close",fn:function(){return[e("span",[t._v("关")])]},proxy:!0}])})],1)])],1),e("Divider"),e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[t._v("邮件设置")]),e("p",[t._v("重要事件发生时，我将会收到邮件提醒")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[e("i-switch",{scopedSlots:t._u([{key:"open",fn:function(){return[e("span",[t._v("开")])]},proxy:!0},{key:"close",fn:function(){return[e("span",[t._v("关")])]},proxy:!0}])})],1)])],1)],1)])}),[],!1,null,null,null).exports,Account:(s("de0f"),Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"setting-account-account"},[e("h2",[t._v("账号绑定")]),e("div",{staticClass:"ivu-mt ivu-pl ivu-pr"},[e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[e("Avatar",{attrs:{size:"small",src:"https://file.iviewui.com/admin-pro-dist/img/icon-social-wechat.c69ec08c.svg"}}),e("span",{staticClass:"ivu-ml-4"},[t._v("微信")])],1),e("p",[t._v("当前未绑定微信账号")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[t._v("绑定")])])],1),e("Divider"),e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[e("Avatar",{attrs:{size:"small",src:"https://file.iviewui.com/admin-pro-dist/img/icon-social-weibo.cbf658a0.svg"}}),e("span",{staticClass:"ivu-ml-4"},[t._v("微博")])],1),e("p",[t._v("当前未绑定微博账号")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[t._v("绑定")])])],1),e("Divider"),e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[e("Avatar",{attrs:{size:"small",src:"https://file.iviewui.com/admin-pro-dist/img/icon-social-facebook.e95df60e.svg"}}),e("span",{staticClass:"ivu-ml-4"},[t._v("Facebook")])],1),e("p",[t._v("当前未绑定 Facebook 账号")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[t._v("绑定")])])],1),e("Divider"),e("Row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",{attrs:{span:22}},[e("h4",[e("Avatar",{attrs:{size:"small",src:"https://file.iviewui.com/admin-pro-dist/img/icon-social-twitter.5db80e81.svg"}}),e("span",{staticClass:"ivu-ml-4"},[t._v("Twitter")])],1),e("p",[t._v("当前未绑定 Twitter 账号")])]),e("Col",{attrs:{span:2}},[e("a",{staticClass:"ivu-link"},[t._v("绑定")])])],1)],1)])}),[],!1,null,"7656df7a",null)).exports},data:function(){return{component:"Safety"}},computed:{routeAnimate:function(){return this.$store.state.app.routeAnimate},selected:function(){var t=this;return function(e){return e===t.component}}},methods:{handleClick:function(t){this.component=t}}},l=Object(r.a)(i,(function(){var t=this,e=t._self._c;return e("Row",{attrs:{gutter:16}},[e("Col",{staticClass:"ivu-mb",attrs:{xs:24,sm:12,md:12,lg:12,xl:8}},[e("Card",{attrs:{shadow:"",padding:0},scopedSlots:t._u([{key:"title",fn:function(){return[e("p",[e("Icon",{attrs:{type:"md-options"}}),e("span",{staticClass:"ivu-ml-4"},[t._v("账户设置")])],1)]},proxy:!0}])},[e("CellGroup",{staticClass:"ivu-pt-8 ivu-pb-8",on:{"on-click":t.handleClick}},[e("Cell",{attrs:{name:"Safety",selected:t.selected("Safety"),title:"安全设置",label:"密码、邮箱等设置"}}),e("Cell",{attrs:{name:"Notice",selected:t.selected("Notice"),title:"消息通知",label:"各种通知的设置"}}),e("Cell",{attrs:{name:"Account",selected:t.selected("Account"),title:"账号绑定",label:"绑定第三方社交账户"}})],1)],1)],1),e("Col",{staticClass:"ivu-mb",attrs:{xs:24,sm:12,md:12,lg:12,xl:16}},[e("Card",{attrs:{shadow:""}},[e("transition",{attrs:{name:t.routeAnimate,mode:"out-in"}},[e(t.component,{tag:"component"})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=l.exports},4363:function(t,e,s){"use strict";s("1510")},5116:function(t,e,s){},"7a04":function(t,e,s){},de0f:function(t,e,s){"use strict";s("7a04")}}]);