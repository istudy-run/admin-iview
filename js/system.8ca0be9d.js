(window.webpackJsonp=window.webpackJsonp||[]).push([["system"],{"00d87":function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],a=0;a<4;a++)8*r+6*a<=8*t.length?n.push(e.charAt(o>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()},"044b":function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},"0fea":function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return p})),n.d(e,"d",(function(){return v}));var r=n("a27e"),o=n("53ca"),a=n("d4ec"),s=n("bee2"),l=(n("4e82"),n("ac1f"),n("caad"),n("2532"),n("d3b7"),n("25f0"),n("b64b"),n("6821")),i=n.n(l),c=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,null,[{key:"sortAsc",value:function(t){var e=new Array,n=0;for(var r in t)e[n]=r,n++;var o=e.sort(),a={};for(var s in o)a[o[s]]=t[o[s]];return a}},{key:"getSign",value:function(t,e){var n=this.parseQueryString(t),r=this.mergeObject(n,e),o=this.sortAsc(r);return i()(JSON.stringify(o)+"dd05f1c54d63749eda95f9fa6d49v442a").toUpperCase()}},{key:"parseQueryString",value:function(t){var e=/([^&=]+)=([\w\W]*?)(&|$|#)/g,n=/^[^\?]+\?([\w\W]+)$/.exec(t),r={},o=t.substring(t.lastIndexOf("/")+1);if(o.includes(",")&&(o.includes("?")&&(o=o.substring(0,o.indexOf("?"))),r["x-path-variable"]=decodeURIComponent(o)),n&&n[1])for(var a,s=n[1];null!=(a=e.exec(s));)this.myIsNaN(a[2])&&(a[2]=a[2].toString()),r[a[1]]=a[2];return r}},{key:"mergeObject",value:function(t,e){if(e&&Object.keys(e).length>0)for(var n in e)!0===e.hasOwnProperty(n)&&(this.myIsNaN(e[n])&&(e[n]=e[n].toString()),t[n]=e[n]);return t}},{key:"urlEncode",value:function(t,e,n){if(null==t)return"";var r="",a=Object(o.a)(t);if("string"===a||"number"===a||"boolean"===a)r+="&"+e+"="+(null==n||n?encodeURIComponent(t):t);else for(var s in t){var l=null==e?s:e+(t instanceof Array?"["+s+"]":"."+s);r+=this.urlEncode(t[s],l,n)}return r}},{key:"getDateTimeToString",value:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();n<10&&(n="0"+n),r<10&&(r="0"+r);var o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds();return o<10&&(o="0"+o),a<10&&(a="0"+a),s<10&&(s="0"+s),l<10&&(s="0"+l),e+""+n+r+o+a+s}},{key:"myIsNaN",value:function(t){return"number"==typeof t&&!isNaN(t)}}]),t}(),u="/role",d="/service",f="/userList";function m(t){return Object(r.a)({url:u,method:"get",params:t})}function h(t){return Object(r.a)({url:d,method:"get",params:t})}function p(t,e){var n={"X-Sign":c.getSign(t,e),"X-TIMESTAMP":c.getDateTimeToString()};return Object(r.a)({url:t,method:"get",params:e,headers:n})}function v(t){return Object(r.a)({url:f,method:"get",params:t})}},"10e1":function(t,e,n){"use strict";n.r(e);var r=(n("a15b"),n("d81d"),n("b0c0"),function(){var t=this,e=t._self._c;return e("DialogContainer",{attrs:{width:520,value:t.visible,title:t.title},on:{"on-visible-change":t.visibleChange}},[e("Form",{ref:"form",attrs:{model:t.form,rules:t.rule,"label-colon":!0,"label-position":"top"}},[e("FormItem",{attrs:{label:"角色名称"}},[e("Input",{attrs:{placeholder:"请输入角色名称，必填"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("FormItem",{attrs:{label:"说明"}},[e("Input",{attrs:{placeholder:"请输入说明"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),e("FormItem",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" 是否默认角色 "),e("Tooltip",{attrs:{content:"开启后，新注册用户默认拥有该角色",placement:"top"}},[e("Icon",{attrs:{type:"md-help-circle"}})],1)]},proxy:!0}])},[e("i-switch",{attrs:{"true-value":"1","false-value":"0"},scopedSlots:t._u([{key:"open",fn:function(){return[e("Icon",{attrs:{type:"md-checkmark"}})]},proxy:!0},{key:"close",fn:function(){return[e("Icon",{attrs:{type:"md-close"}})]},proxy:!0}]),model:{value:t.form.defaultRole,callback:function(e){t.$set(t.form,"defaultRole",e)},expression:"form.defaultRole"}})],1)],1)],1)}),o=n("5530"),a={name:"RoleInfo",props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},record:{type:Object,default:function(){}}},data:function(){return{form:{},rule:{}}},watch:{record:function(t){this.form=Object(o.a)({},t)}},methods:{visibleChange:function(t){this.$emit("on-visible-change",t)}}},s=n("2877"),l={name:"Role",components:{RoleInfo:Object(s.a)(a,r,[],!1,null,null,null).exports},data:function(){return{query:{pageNo:1,pageSize:10},loading:!1,columns:[{type:"selection",align:"center",width:60},{title:"角色名称",key:"name",sortable:!0,minWidth:140},{title:"说明",key:"desc",minWidth:120},{title:"创建时间",key:"createTime",sortable:!0,minWidth:180},{title:"更新时间",key:"updateTime",sortable:!0,minWidth:180},{title:"是否默认角色",key:"defaultRole",slot:"defaultRole",minWidth:140},{title:"操作",slot:"action",align:"center",fixed:"right",minWidth:200}],data:[],total:0,roleInfo:{},title:"",visible:!1,selectedRows:[]}},created:function(){this.getRoleList()},methods:{getRoleList:function(){var t=this;setTimeout((function(){t.data=[{id:2000000001,name:"ROLE_USER",desc:"普通用户",createTime:"2020-01-01 12:01:25",updateTime:"2020-01-02 13:10:33",defaultRole:"1"},{id:2000000002,name:"ROLE_OP",desc:"运营用户",createTime:"2020-01-02 08:12:43",updateTime:"2020-01-04 22:12:28",defaultRole:"0"},{id:2000000003,name:"ROLE_ADMIN",desc:"管理员用户",createTime:"2020-01-03 12:44:19",updateTime:"2020-01-06 14:02:22",defaultRole:"0"}]}),500)},addRole:function(){this.roleInfo={defaultRole:"0"},this.title="添加角色",this.visible=!0},delRoles:function(){var t=this;this.selectedRows.length?this.$Modal.confirm({title:"删除确认",content:"您确认要删除角色<br/><strong>".concat(this.selectedRows.map((function(t){return t.name})).join(","),"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){t.$Modal.remove(),t.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){t.$Message.info("点击了取消")}}):this.$Message.error("您没有选择角色")},editRole:function(t){this.roleInfo=t,this.title="编辑角色",this.visible=!0},removeRole:function(t){var e=this;this.$Modal.confirm({title:"删除确认",content:"您确认要删除角色<strong>".concat(t.name,"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){e.$Modal.remove(),e.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){e.$Message.info("点击了取消")}})},changePage:function(t){this.query.pageNo=t,this.getRoleList()},changePageSize:function(t){this.query.pageSize=t,this.getRoleList()}}},i=Object(s.a)(l,(function(){var t=this,e=this,n=e._self._c;return n("Card",{attrs:{shadow:""}},[n("Button",{staticClass:"ivu-mr-8",attrs:{type:"primary",icon:"md-add",ghost:""},on:{click:e.addRole}},[e._v("添加角色")]),n("Button",{attrs:{type:"error",icon:"md-trash",ghost:""},on:{click:e.delRoles}},[e._v("批量删除")]),n("div",{staticClass:"ivu-inline-block ivu-fr"},[n("Tag",{attrs:{color:"blue"}},[e._v("工具栏")])],1),n("Table",{staticClass:"ivu-mt",attrs:{columns:e.columns,data:e.data,loading:e.loading},on:{"on-selection-change":function(e){return t.selectedRows=e}},scopedSlots:e._u([{key:"defaultRole",fn:function(t){var r=t.row;return[n("Tag",{attrs:{color:"1"===r.defaultRole?"green":"red"}},[e._v(e._s("1"===r.defaultRole?"是":"否"))])]}},{key:"action",fn:function(t){var r=t.row;return[n("a",{on:{click:function(t){return e.editRole(r)}}},[e._v("菜单权限")]),n("Divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.editRole(r)}}},[e._v("编辑")]),n("Divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.removeRole(r)}}},[e._v("删除")])]}}])}),n("div",{staticClass:"ivu-mt ivu-text-center"},[n("Page",{attrs:{"show-sizer":"","show-elevator":"",total:e.total},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1),n("RoleInfo",{attrs:{title:e.title,visible:e.visible,record:e.roleInfo},on:{"on-visible-change":function(e){return t.visible=e}}})],1)}),[],!1,null,"473ac459",null);e.default=i.exports},1248:function(t,e,n){"use strict";n("b5a0")},6821:function(t,e,n){!function(){var e=n("00d87"),r=n("9a63").utf8,o=n("044b"),a=n("9a63").bin,s=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?a.stringToBytes(t):r.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var l=e.bytesToWords(t),i=8*t.length,c=1732584193,u=-271733879,d=-1732584194,f=271733878,m=0;m<l.length;m++)l[m]=16711935&(l[m]<<8|l[m]>>>24)|4278255360&(l[m]<<24|l[m]>>>8);l[i>>>5]|=128<<i%32,l[14+(i+64>>>9<<4)]=i;var h=s._ff,p=s._gg,v=s._hh,g=s._ii;for(m=0;m<l.length;m+=16){var b=c,y=u,k=d,x=f;c=h(c,u,d,f,l[m+0],7,-680876936),f=h(f,c,u,d,l[m+1],12,-389564586),d=h(d,f,c,u,l[m+2],17,606105819),u=h(u,d,f,c,l[m+3],22,-1044525330),c=h(c,u,d,f,l[m+4],7,-176418897),f=h(f,c,u,d,l[m+5],12,1200080426),d=h(d,f,c,u,l[m+6],17,-1473231341),u=h(u,d,f,c,l[m+7],22,-45705983),c=h(c,u,d,f,l[m+8],7,1770035416),f=h(f,c,u,d,l[m+9],12,-1958414417),d=h(d,f,c,u,l[m+10],17,-42063),u=h(u,d,f,c,l[m+11],22,-1990404162),c=h(c,u,d,f,l[m+12],7,1804603682),f=h(f,c,u,d,l[m+13],12,-40341101),d=h(d,f,c,u,l[m+14],17,-1502002290),c=p(c,u=h(u,d,f,c,l[m+15],22,1236535329),d,f,l[m+1],5,-165796510),f=p(f,c,u,d,l[m+6],9,-1069501632),d=p(d,f,c,u,l[m+11],14,643717713),u=p(u,d,f,c,l[m+0],20,-373897302),c=p(c,u,d,f,l[m+5],5,-701558691),f=p(f,c,u,d,l[m+10],9,38016083),d=p(d,f,c,u,l[m+15],14,-660478335),u=p(u,d,f,c,l[m+4],20,-405537848),c=p(c,u,d,f,l[m+9],5,568446438),f=p(f,c,u,d,l[m+14],9,-1019803690),d=p(d,f,c,u,l[m+3],14,-187363961),u=p(u,d,f,c,l[m+8],20,1163531501),c=p(c,u,d,f,l[m+13],5,-1444681467),f=p(f,c,u,d,l[m+2],9,-51403784),d=p(d,f,c,u,l[m+7],14,1735328473),c=v(c,u=p(u,d,f,c,l[m+12],20,-1926607734),d,f,l[m+5],4,-378558),f=v(f,c,u,d,l[m+8],11,-2022574463),d=v(d,f,c,u,l[m+11],16,1839030562),u=v(u,d,f,c,l[m+14],23,-35309556),c=v(c,u,d,f,l[m+1],4,-1530992060),f=v(f,c,u,d,l[m+4],11,1272893353),d=v(d,f,c,u,l[m+7],16,-155497632),u=v(u,d,f,c,l[m+10],23,-1094730640),c=v(c,u,d,f,l[m+13],4,681279174),f=v(f,c,u,d,l[m+0],11,-358537222),d=v(d,f,c,u,l[m+3],16,-722521979),u=v(u,d,f,c,l[m+6],23,76029189),c=v(c,u,d,f,l[m+9],4,-640364487),f=v(f,c,u,d,l[m+12],11,-421815835),d=v(d,f,c,u,l[m+15],16,530742520),c=g(c,u=v(u,d,f,c,l[m+2],23,-995338651),d,f,l[m+0],6,-198630844),f=g(f,c,u,d,l[m+7],10,1126891415),d=g(d,f,c,u,l[m+14],15,-1416354905),u=g(u,d,f,c,l[m+5],21,-57434055),c=g(c,u,d,f,l[m+12],6,1700485571),f=g(f,c,u,d,l[m+3],10,-1894986606),d=g(d,f,c,u,l[m+10],15,-1051523),u=g(u,d,f,c,l[m+1],21,-2054922799),c=g(c,u,d,f,l[m+8],6,1873313359),f=g(f,c,u,d,l[m+15],10,-30611744),d=g(d,f,c,u,l[m+6],15,-1560198380),u=g(u,d,f,c,l[m+13],21,1309151649),c=g(c,u,d,f,l[m+4],6,-145523070),f=g(f,c,u,d,l[m+11],10,-1120210379),d=g(d,f,c,u,l[m+2],15,718787259),u=g(u,d,f,c,l[m+9],21,-343485551),c=c+b>>>0,u=u+y>>>0,d=d+k>>>0,f=f+x>>>0}return e.endian([c,u,d,f])};s._ff=function(t,e,n,r,o,a,s){var l=t+(e&n|~e&r)+(o>>>0)+s;return(l<<a|l>>>32-a)+e},s._gg=function(t,e,n,r,o,a,s){var l=t+(e&r|n&~r)+(o>>>0)+s;return(l<<a|l>>>32-a)+e},s._hh=function(t,e,n,r,o,a,s){var l=t+(e^n^r)+(o>>>0)+s;return(l<<a|l>>>32-a)+e},s._ii=function(t,e,n,r,o,a,s){var l=t+(n^(e|~r))+(o>>>0)+s;return(l<<a|l>>>32-a)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(s(t,n));return n&&n.asBytes?r:n&&n.asString?a.bytesToString(r):e.bytesToHex(r)}}()},"6a53":function(t,e,n){"use strict";n.r(e);var r=n("5530"),o=(n("a15b"),n("d81d"),function(){var t=this,e=t._self._c;return e("DialogContainer",{attrs:{width:560,value:t.visible,title:t.title},on:{"on-visible-change":t.visibleChange}},[e("Form",{ref:"form",attrs:{model:t.form,rules:t.rule,"label-colon":!0,"label-position":"top"}},[e("Row",{attrs:{gutter:32}},[t.record&&t.record.id?[e("Col",{staticClass:"ivu-text-center",attrs:{span:10}},[e("Avatar",{attrs:{src:t.record.avatar,size:64,shape:"square"}}),t.readOnly?t._e():e("Upload",{staticClass:"ivu-mt-8",attrs:{action:"//jsonplaceholder.typicode.com/posts/"}},[e("Button",{attrs:{type:"text"}},[t._v("修改 "),e("Icon",{attrs:{type:"ios-create-outline"}})],1)],1)],1),e("Col",{attrs:{span:14}},[e("div",[t._v("用户ID："+t._s(t.record.id))]),e("div",{staticClass:"ivu-mt-8"},[t._v("登录账号："+t._s(t.record.account))]),e("div",{staticClass:"ivu-mt-8"},[t._v("创建时间："+t._s(t.record.createTime))])]),e("Divider")]:t._e(),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"用户名"}},[e("Input",{attrs:{readonly:t.readOnly,placeholder:"请输入用户名，必填"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"手机号"}},[e("Input",{attrs:{readonly:t.readOnly,placeholder:"请输入手机号，必填"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"邮箱"}},[e("Input",{attrs:{readonly:t.readOnly,placeholder:"请输入邮箱，必填"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"性别",clearable:""}},[e("Select",{attrs:{readonly:t.readOnly,placeholder:"请选择性别，必填"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[e("Option",{attrs:{value:"1"}},[t._v("男")]),e("Option",{attrs:{value:"2"}},[t._v("女")])],1)],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"状态",clearable:""}},[e("Select",{attrs:{readonly:t.readOnly,placeholder:"请选择状态"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[e("Option",{attrs:{value:"1"}},[t._v("正常")]),e("Option",{attrs:{value:"2"}},[t._v("冻结")]),e("Option",{attrs:{value:"3"}},[t._v("关闭")])],1)],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"角色分配"}},[e("Select",{attrs:{readonly:t.readOnly,placeholder:"请选择角色",multiple:"","max-tag-count":1},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}},[e("Option",{attrs:{value:"1"}},[t._v(" ROLE_USER "),e("span",{staticStyle:{color:"#c5c8ce"}},[t._v("普通用户")])]),e("Option",{attrs:{value:"2"}},[t._v(" ROLE_ADMIN "),e("span",{staticStyle:{color:"#c5c8ce"}},[t._v("管理员")])]),e("Option",{attrs:{value:"3"}},[t._v(" ROLE_OP "),e("span",{staticStyle:{color:"#c5c8ce"}},[t._v("运营")])])],1)],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"登录账号"}},[e("Input",{attrs:{readonly:t.readOnly,placeholder:"请输入登录账号，必填"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1)],1),e("Divider"),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"地区"}},[e("Region",{attrs:{readonly:t.readOnly,placeholder:"请选择地区"},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"生日"}},[e("DatePicker",{attrs:{readonly:t.readOnly,placeholder:"请选择日期"},model:{value:t.form.birthday,callback:function(e){t.$set(t.form,"birthday",e)},expression:"form.birthday"}})],1)],1),e("Col",{attrs:{span:24}},[e("FormItem",{attrs:{label:"个人介绍"}},[e("Input",{attrs:{readonly:t.readOnly,type:"textarea",rows:3,placeholder:"请输入个人介绍"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1)],2)],1)],1)}),a={name:"UserInfo",components:{Region:n("2af9").J},props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},record:{type:Object,default:function(){}},readOnly:{type:Boolean,default:!1}},data:function(){return{form:{},rule:{}}},watch:{record:function(t){this.form=Object(r.a)({},t)}},methods:{visibleChange:function(t){this.$emit("on-visible-change",t)}}},s=n("2877"),l=Object(s.a)(a,o,[],!1,null,null,null).exports,i=n("0fea"),c={name:"User",components:{UserInfo:l},data:function(){return{query:{pageNo:1,pageSize:10},advanced:!1,loading:!1,columns:[{type:"selection",align:"center",width:60},{title:"用户名",key:"username",slot:"username",sortable:!0,minWidth:140},{title:"登录账号",key:"account",sortable:!0,minWidth:120},{title:"手机号",key:"phone",minWidth:140},{title:"邮箱",key:"email",minWidth:180},{title:"性别",key:"sex",slot:"sex",minWidth:100},{title:"状态",key:"status",slot:"status",minWidth:100},{title:"创建时间",key:"createTime",sortable:!0,minWidth:180},{title:"操作",slot:"action",align:"center",fixed:"right",minWidth:120}],data:[],total:0,visible:!1,selectedRows:[],userInfo:{},title:"",readOnly:!1}},created:function(){this.getUserList()},methods:{getUserList:function(){var t=this;this.loading=!0;var e=Object(r.a)({},this.query);Object(i.d)(e).then((function(e){t.data=e.data,t.total=e.totalCount,t.loading=!1}))},changePage:function(t){this.query.pageNo=t,this.getUserList()},changePageSize:function(t){this.query.pageSize=t,this.getUserList()},editUser:function(t){this.userInfo=t,this.title="编辑用户",this.readOnly=!1,this.visible=!0},removeUser:function(t){var e=this;this.$Modal.confirm({title:"删除确认",content:"您确认要删除用户<strong>".concat(t.username,"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){e.$Modal.remove(),e.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){e.$Message.info("点击了取消")}})},toggleAdvanced:function(){this.advanced=!this.advanced},addUser:function(){this.userInfo={},this.title="添加用户",this.readOnly=!1,this.visible=!0},delUsers:function(){var t=this;this.selectedRows.length?this.$Modal.confirm({title:"删除确认",content:"您确认要删除用户<strong>".concat(this.selectedRows.map((function(t){return t.username})).join(","),"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){t.$Modal.remove(),t.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){t.$Message.info("点击了取消")}}):this.$Message.error("您没有选择用户")},cellClick:function(t,e,n,r){n&&(this.userInfo=t,this.title="用户信息",this.readOnly=!0,this.visible=!0)}}},u=Object(s.a)(c,(function(){var t=this,e=this,n=e._self._c;return n("Card",{attrs:{shadow:""}},[n("Form",{attrs:{"label-width":100,"label-colon":!0}},[n("Row",{attrs:{gutter:24}},[n("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[n("FormItem",{attrs:{label:"用户名"}},[n("Input",{attrs:{placeholder:"请输入用户名"}})],1)],1),n("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[n("FormItem",{attrs:{label:"手机号"}},[n("Input",{attrs:{placeholder:"请输入手机号"}})],1)],1),e.advanced?[n("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[n("FormItem",{attrs:{label:"邮箱"}},[n("Input",{attrs:{placeholder:"请输入邮箱"}})],1)],1),n("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[n("FormItem",{attrs:{label:"性别"}},[n("Select",{attrs:{placeholder:"请选择性别",clearable:""}},[n("Option",{attrs:{value:"1"}},[e._v("男")]),n("Option",{attrs:{value:"2"}},[e._v("女")])],1)],1)],1),n("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[n("FormItem",{attrs:{label:"登录账号"}},[n("Input",{attrs:{placeholder:"请输入登录账号"}})],1)],1),n("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[n("FormItem",{attrs:{label:"用户ID"}},[n("Input",{attrs:{placeholder:"请输入用户ID"}})],1)],1),n("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[n("FormItem",{attrs:{label:"状态",clearable:""}},[n("Select",{attrs:{placeholder:"请选择状态"}},[n("Option",{attrs:{value:"1"}},[e._v("正常")]),n("Option",{attrs:{value:"2"}},[e._v("冻结")]),n("Option",{attrs:{value:"3"}},[e._v("关闭")])],1)],1)],1),n("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[n("FormItem",{attrs:{label:"创建时间"}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{placeholder:"请选创建时间"}})],1)],1)]:e._e(),n("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[n("FormItem",{attrs:{"label-width":100}},[n("Space",[n("Button",{attrs:{icon:"md-search",type:"primary",loading:e.loading},on:{click:e.getUserList}},[e._v("查询")]),n("Button",{attrs:{icon:"md-refresh"},on:{click:e.getUserList}},[e._v("重置")]),n("a",{on:{click:e.toggleAdvanced}},[e._v(" "+e._s(e.advanced?"收起":"展开")+" "),n("Icon",{attrs:{type:e.advanced?"ios-arrow-up":"ios-arrow-down"}})],1)],1)],1)],1)],2)],1),n("div",[n("Space",[n("Button",{attrs:{type:"primary",icon:"md-add",ghost:""},on:{click:e.addUser}},[e._v("添加用户")]),n("Button",{attrs:{type:"error",icon:"md-trash",ghost:""},on:{click:e.delUsers}},[e._v("批量删除")])],1),n("div",{staticClass:"ivu-inline-block ivu-fr"},[n("Tag",{attrs:{color:"blue"}},[e._v("工具栏")])],1),n("Table",{staticClass:"ivu-mt",attrs:{columns:e.columns,data:e.data,loading:e.loading},on:{"on-selection-change":function(e){return t.selectedRows=e},"on-cell-click":e.cellClick},scopedSlots:e._u([{key:"username",fn:function(t){var r=t.row;return[n("Avatar",{attrs:{shape:"square",src:r.avatar,size:"small"}}),e._v(" "+e._s(r.username)+" ")]}},{key:"sex",fn:function(t){var r=t.row;return[n("Tag",{attrs:{color:"1"===r.sex?"blue":"red"}},[e._v(e._s("1"===r.sex?"男":"女"))])]}},{key:"status",fn:function(t){var e=t.row;return[n("Badge",{attrs:{status:"1"===e.status?"success":"error",text:"1"===e.status?"正常":"冻结"}})]}},{key:"action",fn:function(t){var r=t.row;return[n("a",{on:{click:function(t){return e.editUser(r)}}},[e._v("编辑")]),n("Divider",{attrs:{type:"vertical"}}),n("a",{directives:[{name:"color",rawName:"v-color",value:"red",expression:"'red'"}],on:{click:function(t){return e.removeUser(r)}}},[e._v("删除")])]}}])}),n("div",{staticClass:"ivu-mt ivu-text-center"},[n("Page",{attrs:{"show-sizer":"","show-elevator":"",total:e.total},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),n("UserInfo",{attrs:{title:e.title,visible:e.visible,record:e.userInfo,"read-only":e.readOnly},on:{"on-visible-change":function(e){return t.visible=e}}})],1)}),[],!1,null,null,null);e.default=u.exports},"9a63":function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},a85d:function(t,e,n){"use strict";n.r(e),n("b64b");var r=n("2909"),o=n("b85c"),a=n("5530"),s=(n("a15b"),n("d81d"),n("2f62")),l=n("235e"),i={name:"Menu",data:function(){return{form:{title:"",subtitle:"",path:"",openWay:"0",divider:"0",icon:"",auth:""},rule:{},treeData:[],contextData:{},collapse:!1,checkedMenus:[],selectedMenu:{}}},created:function(){this.getTreeData()},computed:Object(a.a)({},Object(s.e)({mainMenu:function(t){return t.permission.addRouters}})),methods:{getTreeData:function(){var t=Object(l.a)(this.mainMenu);this.formatMenus(this.treeData,t)},formatMenus:function(t,e){var n,r=Object(o.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value,s={title:a.meta.title,path:a.path,openWay:"0",divider:"0",icon:a.meta.icon,expand:!!a.children&&this.collapse,contextmenu:!0,checked:!1,children:[]};a.children&&this.formatMenus(s.children,a.children),t.push(s)}}catch(t){r.e(t)}finally{r.f()}},handleSelectMenu:function(t,e){this.selectedMenu=e.selected?e:{},this.form=Object(a.a)({},this.selectedMenu)},handleCheckedMenu:function(t,e){this.checkedMenus=Object(r.a)(t)},handleContextMenu:function(t){this.contextData=t},menuEdit:function(){this.$Message.info("编辑了 "+this.contextData.title)},menuDelete:function(){this.$Message.error("删除了 "+this.contextData.title)},collapseOrExpand:function(){this.collapse=!this.collapse,this.treeData=[],this.getTreeData()},deleteMenus:function(){var t=this;this.checkedMenus.length?this.$Modal.confirm({title:"删除确认",content:"您确认要删除菜单<strong>".concat(this.checkedMenus.map((function(t){return t.title})).join(","),"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){t.$Modal.remove(),t.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){t.$Message.info("点击了取消")}}):this.$Message.error("您没有勾选菜单")},resetMenu:function(){this.form=Object(a.a)({},this.selectedMenu)}}},c=(n("1248"),n("2877")),u=Object(c.a)(i,(function(){var t=this,e=t._self._c;return e("Row",{attrs:{gutter:24}},[e("Col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e("Card",{attrs:{shadow:""},scopedSlots:t._u([{key:"title",fn:function(){return[e("Dropdown",{scopedSlots:t._u([{key:"list",fn:function(){return[e("DropdownMenu",[e("DropdownItem",[t._v("添加顶栏菜单")]),e("DropdownItem",{attrs:{disabled:!Object.keys(t.selectedMenu).length}},[t._v("添加子菜单")])],1)]},proxy:!0}])},[e("Button",{staticClass:"ivu-mr",attrs:{type:"primary",ghost:""}},[t._v("添加菜单 "),e("Icon",{attrs:{type:"ios-arrow-down"}})],1)],1),e("Button",{staticClass:"ivu-mr",attrs:{type:"primary",ghost:"",icon:"md-list"},on:{click:t.collapseOrExpand}},[t._v("全部"+t._s(t.collapse?"收起":"展开"))]),e("Button",{staticClass:"ivu-mr",attrs:{type:"error",ghost:"",icon:"md-trash"},on:{click:t.deleteMenus}},[t._v("批量删除")])]},proxy:!0}])},[e("div",{staticClass:"ivu-p-8"},[e("Input",{attrs:{suffix:"ios-search",placeholder:"输入菜单名称搜索"}})],1),e("Tree",{attrs:{data:t.treeData,"show-checkbox":""},on:{"on-select-change":t.handleSelectMenu,"on-check-change":t.handleCheckedMenu,"on-contextmenu":t.handleContextMenu},scopedSlots:t._u([{key:"contextMenu",fn:function(){return[e("DropdownItem",{nativeOn:{click:function(e){return t.menuEdit.apply(null,arguments)}}},[t._v("编辑")]),e("DropdownItem",{nativeOn:{click:function(e){return t.menuEdit.apply(null,arguments)}}},[t._v("添加子菜单")]),e("DropdownItem",{staticStyle:{color:"#ed4014"},attrs:{divided:""},nativeOn:{click:function(e){return t.menuDelete.apply(null,arguments)}}},[t._v("删除")])]},proxy:!0}])})],1)],1),e("Col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e("Card",{attrs:{shadow:""},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"ivu-menu-head"},[e("Avatar",{staticStyle:{color:"#1890ff",background:"#e6f7ff"},attrs:{size:"small",icon:"md-apps"}}),e("span",{staticClass:"ivu-pl-8"},[t._v("编辑菜单"+t._s(Object.keys(t.selectedMenu).length?"："+t.selectedMenu.title:""))])],1)]},proxy:!0}])},[e("Empty",{directives:[{name:"show",rawName:"v-show",value:!Object.keys(t.selectedMenu).length,expression:"!Object.keys(selectedMenu).length"}],attrs:{desc:"请选择一项菜单编辑"}}),Object.keys(t.selectedMenu).length?e("Form",{ref:"form",attrs:{"label-width":100,"label-colon":!0,model:t.form,rules:t.rule}},[e("FormItem",{attrs:{label:"类型"}},[t._v("侧边栏菜单")]),e("FormItem",{attrs:{label:"标题"}},[e("Input",{attrs:{placeholder:"请输入标题，必填"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),e("FormItem",{attrs:{label:"副标题"}},[e("Input",{attrs:{placeholder:"请输入副标题"},model:{value:t.form.subtitle,callback:function(e){t.$set(t.form,"subtitle",e)},expression:"form.subtitle"}})],1),e("FormItem",{attrs:{label:"路径"}},[e("Input",{attrs:{placeholder:"请输入路径，必填"},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}})],1),e("FormItem",{attrs:{label:"打开方式"}},[e("RadioGroup",{model:{value:t.form.openWay,callback:function(e){t.$set(t.form,"openWay",e)},expression:"form.openWay"}},[e("Radio",{attrs:{label:"0"}},[t._v("当前窗口")]),e("Radio",{attrs:{label:"1"}},[t._v("新窗口")])],1)],1),e("FormItem",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" 分割线 "),e("Tooltip",{attrs:{content:"菜单折叠时是否显示分割线",placement:"top"}},[e("Icon",{attrs:{type:"md-help-circle"}})],1)]},proxy:!0}],null,!1,857158043)},[e("i-switch",{attrs:{"true-value":"1","false-value":"0"},scopedSlots:t._u([{key:"open",fn:function(){return[e("Icon",{attrs:{type:"md-checkmark"}})]},proxy:!0},{key:"close",fn:function(){return[e("Icon",{attrs:{type:"md-close"}})]},proxy:!0}],null,!1,3573282926),model:{value:t.form.divider,callback:function(e){t.$set(t.form,"divider",e)},expression:"form.divider"}})],1),e("FormItem",{attrs:{label:"图标"}},[e("Input",{attrs:{placeholder:"请输入标题，必填"},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1),e("FormItem",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" 菜单权限 "),e("Tooltip",{attrs:{content:"菜单权限",placement:"top"}},[e("Icon",{attrs:{type:"md-help-circle"}})],1)]},proxy:!0}],null,!1,1522298737)},[e("Input",{attrs:{placeholder:"权限，逗号分隔"},model:{value:t.form.auth,callback:function(e){t.$set(t.form,"auth",e)},expression:"form.auth"}})],1),e("FormItem",[e("Space",{attrs:{size:16}},[e("Button",{on:{click:t.resetMenu}},[t._v("重置")]),e("Button",{attrs:{type:"primary"},on:{click:t.resetMenu}},[t._v("保存")])],1)],1)],1):t._e()],1)],1)],1)}),[],!1,null,"483abe08",null);e.default=u.exports},b5a0:function(t,e,n){}}]);